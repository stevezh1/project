<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>E-commerce Website</title>
<link rel="stylesheet" href="styles.css">
</head>
<style>
    body {
        font-family: Arial, sans-serif;
        height:100%;
        margin: 0;
        padding: 0;
        overflow-y: auto;
    }
    
    
    .container {
        position: relative;
        z-index: 1;
        max-width: 1600px;
        margin: 0 auto;
        padding: 0 20px;
        overflow: hidden;
    }

    #category {
        display: block;
        width: 100%;
        padding: 10px;
        margin-bottom: 20px;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 16px;
    }

    .header-container {
        background-color: #333;
        color: #fff;
        padding: 15px 0;
        text-align: center; /* Center align text */
        justify-content: space-between; 
        width: 100%; /* Set width to 100% */
    }

    .header-item {
        display: inline-block; /* Allow inline positioning */
        margin: 0 10px;
    }

    .shift-right {
        margin-left: auto; /* Push items to the right */
    }

    .sort-by {
        position: relative; /* Enable positioning */
        float: right; /* Float the container to the right */
        margin-right: 20px; /* Adjust margin as needed */
    }

    .container {
        display: flex;
        justify-content: space-between;
        align-items: center; /* Vertically center items */
    }

    .sidebar {
        position: fixed; /* Position sidebar fixed */
        top: 0; /* Align to the top of the screen */
        left: 0; /* Align to the left side of the screen */
        width: 250px; /* Set width as needed */
        height: 100%; /* Occupy entire height of the screen */
        background-color: #00008B; /* Background color */
        padding: 20px; /* Add padding as needed */
        box-sizing: border-box; /* Include padding in the total width/height */
    }

    .sidebar h2 {
        color: #fff;
        text-align: center;
    }

    .sidebar ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
    }

    .sidebar ul ul {
        display: none;
        position: absolute;
        background-color: #00008B;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        padding: 10px;
        left: 0;
    }

    .sidebar ul li:hover > ul {
        display: block;
    }

    .sidebar ul li {
        padding: 0;
        margin: 0;
        list-style: none;
    }

    .sidebar ul li a {
        color: #fff;
        text-decoration: none;
    }

    .sidebar ul li a:hover {
        color: #00bcd4;
    }

    .content {
        flex: 1;
        padding: 14px;
        min-height: 100vh;
    }

    .sort-by-dropdown {
        position: absolute;
        top: 0;
        right: 20px;
        z-index: 999;
        color: #fff;
    }

    .sort-by-dropdown select {
        padding: 5px;
        font-size: 14px;
        border: none;
        border-radius: 3px;
        background-color: #333;
        color: #fff;
    }
    
    .button-container {
        display: flex;
        justify-content: flex-end; /* Shift buttons to the right */
    }

    .add-button {
        background-color: green;
        color: white;
        padding: 10px 20px;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        margin-right: 10px;
    }

    .delete-button {
        background-color: red;
        color: white;
        padding: 10px 20px;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        margin-right: 10px;
    }
    .update-button {
        background-color: #00008B;
        color: white;
        padding: 10px 20px;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        margin-right: 10px;
    }

    .cart-button {
        background-color: #000000;
        color: white;
        padding: 5px 20px;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        display: inline-block;
        margin-right: 10px;
    }

    .select-button {
        background-color: #000000;
        color: white;
        padding: 5px 20px;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        display: inline-block;
        margin-right: 10px;
    }
    
    .main-listings {
        width: 75%; /* Adjust width as needed */
        padding: 5px;
        margin-top: 5px;
        margin-left: auto; /* Shift container to the right */
    }

    .product {
        float: left;
        width: 25%;
        height: 300px;
        margin: 10px;
        padding: 20px;
        border: 1px solid #333;
        box-sizing: border-box;
    }
    .product img {
        max-width: 33%;
        border-radius: 6px;
        margin-bottom: 10px;
    }

    .product h2 {
        margin-top: 0;
        margin-bottom: 10px;
    }

    .categories-dropdown {
        background-color: #00008B; /* Same color as the sidebar */
        padding: 10px; /* Add padding to match the sidebar */
        border-radius: 4px; /* Optional: add border-radius for consistency */
    }

    .category-button {
        width: 100%;
        background-color: #00008B; /* Same color as the sidebar */
        color: #fff; /* Optional: adjust text color for visibility */
        border: none;
        border-radius: 4px; /* Optional: add border-radius for consistency */
        padding: 10px; /* Adjust padding as needed */
        font-size: 24px; /* Optional: adjust font size */
    }

</style>
</head>     
<body>

    <div class="header-container header-container-1">
        <div class="header-item shift-right">
            <header class="header-container">
                <div class="sort-by-dropdown">
                    <h4>Sort By:</h4>
                    <select id="sort-by">
                        <option value="unsorted">Unsorted</option>
                        <option value="A-Z">Alphabetical (A-Z)</option>
                        <option value="Z-A">Alphabetical (Z-A)</option>
                        <option value="highest-price">Highest Price</option>
                        <option value="lowest-price">Lowest Price</option>
                        <option value="latest">Date Added (Latest)</option>
                        <option value="earliest">Date Added (Earliest)</option>
                    </select>
            </div>
            </header>
        </div>
        <div class="header-item">
            <header class="header-container">
                <h1>Best Deals</h1>
            </header>
        </div>
    </div>
    
<!--sidebar-->
<div class="container">
    <div class="sidebar">
        <ul>
            <li><h1><a href="front-page.html">Home</a></h1></li>
            <li><h1><a href="settings.html">Settings</a></h1></li>
            <li>
                <h2>Categories</h2>
            </li>
            <!-- Category buttons -->
            <li><button class="category-button" onclick="showCategory('sports')">Sports</button></li>
            <li><button class="category-button" onclick="showCategory('electronics')">Electronics</button></li>
            <li><button class="category-button" onclick="showCategory('books')">Books</button></li>
            <li><button class="category-button" onclick="showAllCategories()">All</button></li>
        </ul>
    </div>
</div>

<div class="main-listings">
    <div class="sports product-container">
        <div class="product">
            <img src="bicycle.jpg">
            <h2>Schwinn Adapt U Folding Bike</h2>
            <p>$540.00</p>
            <div class="button-container">
                <button class="cart-button">Add to Cart</button>
            </div>
        </div>
        <div class="product">
            <img src="dumbbell.jpg">
            <h2>Pivot Hex Dumbbells</h2>
            <p>$12.99</p>
            <div class="button-container">
                <button class="cart-button">Add to Cart</button>
            </div>
        </div>
    </div>

    <div class="electronics product-container">
        <div class="product">
            <img src="tv.jpg" alt="Product 2">
            <h2>Xiaomi Mi TV P1 Television, 32" HD</h2>
            <p>$271.99</p>
            <div class="button-container">
                <button class="cart-button">Add to Cart</button>
            </div>
        </div>
        <div class="product">
            <img src="tablet.jpg" alt="Product 4">
            <h2>Lenovo Tab M10 Plus</h2>
            <p>$288.00</p>
            <div class="button-container">
                <button class="cart-button">Add to Cart</button>
            </div>
        </div>
        <div class="product">
            <img src="oven.jpg" alt="Product 3">
            <h2>Zojirushi Electric Oven Toaster</h2>
            <p>$29.99</p>
            <div class="button-container">
                <button class="cart-button">Add to Cart</button>
            </div>
        </div>
    </div>

    <div class="books product-container">
        <div class="product">
            <img src="boxset.jpg" alt="Product 5">
            <h2>Roald Dahl Collection Box Set</h2>
            <p>$88.44</p>
            <div class="button-container">
                <button class="cart-button">Add to Cart</button>
            </div>
        </div>
    </div>
</div>


</body>
</html>

<script> 
    // Define addProduct, deleteProduct, and updateProduct functions here...

    // Function to handle change event on category dropdown
    document.getElementById('sort-by-category').addEventListener('change', function() {
        const category = this.value;
        const productContainers = document.querySelectorAll('.product');

        // Hide all product containers    
        productContainers.forEach(container => {
            container.style.display = 'none';
        });

        // Show product containers based on selected category
        if (category) {
            const selectedProducts = document.querySelectorAll(`.${category}`);
            selectedProducts.forEach(product => {
                product.style.display = 'block';
            });
        } else {
            // If no category selected, show all products
            productContainers.forEach(container => {
                container.style.display = 'block';
            });
        }
    });

    // Function to add a product
    function addProduct() {
        const productData = {
            name: 'New Product',
            price: 29.99,
            description: 'This is a new product'
        };

        // Perform a POST request using fetch API
        fetch('/api/addProduct', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(productData) // Convert object to JSON string
        })
        .then(response => {
            if (response.ok) {
                // Request was successful, handle success response
                console.log('Product added successfully');
            } else {
                // Request failed, handle error response
                console.error('Failed to add product');
            }
        })
        .catch(error => {
            // Handle network errors or other exceptions
            console.error('Error:', error);
        });
    }

    function showCategory(category) {
            const productContainers = document.querySelectorAll('.product-container');

            // Hide all product containers
            productContainers.forEach(container => {
                container.style.display = 'none';
            });

            // Show product containers based on selected category
            const selectedProducts = document.querySelectorAll(`.${category}`);
            selectedProducts.forEach(product => {
                product.style.display = 'block';
            });
        }

    function showAllCategories() {
        const productContainers = document.querySelectorAll('.product-container');

        // Show all product containers
        productContainers.forEach(container => {
            container.style.display = 'block';
            });
        }
        
</script>
